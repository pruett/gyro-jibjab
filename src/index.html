<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="gyro:" />
    <meta property="og:description" content="Igniting business decisions in a numb world." />
    <meta property="og:url" content="https://www.gyro.com/" />
    <meta property="og:site_name" content="gyro" />
    <meta property="og:image" content="https://www.gyro.com/wp-content/uploads/2015/09/gyro-logo-1200.jpg" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:description" content="Igniting business decisions in a numb world." />
    <meta name="twitter:title" content="gyro:" />
    <meta name="twitter:site" content="@gyro" />
    <meta name="twitter:image" content="https://www.gyro.com/wp-content/uploads/2015/09/gyro-logo-1200.jpg" />
    <meta name="twitter:creator" content="@gyro" />
    <link rel="shortcut icon" href="https://www.gyro.com/wp-content/themes/gyro/favicon.ico" />
    <title>Gyro | Deck the Halls</title>
    <style>
      html, body { height:100%;margin: 0; }
      html { background: url('assets/img/bg.png') no-repeat bottom center;background-size:cover; }
      header img {
        display: block;
        margin: auto;
        width: 80%;
        padding-top: 3%;
        max-width: 220px;
      }
    </style>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div id="snowflakes">
      <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
      <i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i><i></i>
    </div>

    <header>
      <img src='assets/img/header.png' />
    </header>

    <div id="conductor">
      <ul class='group first'>
        <li>
          <img class='head closed' src='assets/img/closed/01.png' />
          <img class='head open' src='assets/img/open/01.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/02.png' />
          <img class='head open' src='assets/img/open/02.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/03.png' />
          <img class='head open' src='assets/img/open/03.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/04.png' />
          <img class='head open' src='assets/img/open/04.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/05.png' />
          <img class='head open' src='assets/img/open/05.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/06.png' />
          <img class='head open' src='assets/img/open/06.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/07.png' />
          <img class='head open' src='assets/img/open/07.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/08.png' />
          <img class='head open' src='assets/img/open/08.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/09.png' />
          <img class='head open' src='assets/img/open/09.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/10.png' />
          <img class='head open' src='assets/img/open/10.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/11.png' />
          <img class='head open' src='assets/img/open/11.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/12.png' />
          <img class='head open' src='assets/img/open/12.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/13.png' />
          <img class='head open' src='assets/img/open/13.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/15.png' />
          <img class='head open' src='assets/img/open/15.png' />
        </li>
      </ul>

      <ul class='group second'>
        <li>
          <img class='head closed' src='assets/img/closed/16.png' />
          <img class='head open' src='assets/img/open/16.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/17.png' />
          <img class='head open' src='assets/img/open/17.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/18.png' />
          <img class='head open' src='assets/img/open/18.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/19.png' />
          <img class='head open' src='assets/img/open/19.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/20.png' />
          <img class='head open' src='assets/img/open/20.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/21.png' />
          <img class='head open' src='assets/img/open/21.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/22.png' />
          <img class='head open' src='assets/img/open/22.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/23.png' />
          <img class='head open' src='assets/img/open/23.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/24.png' />
          <img class='head open' src='assets/img/open/24.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/25.png' />
          <img class='head open' src='assets/img/open/25.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/26.png' />
          <img class='head open' src='assets/img/open/26.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/27.png' />
          <img class='head open' src='assets/img/open/27.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/28.png' />
          <img class='head open' src='assets/img/open/28.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/29.png' />
          <img class='head open' src='assets/img/open/29.png' />
        </li>
      </ul>

      <ul class='group third'>
        <li>
          <img class='head closed' src='assets/img/closed/30.png' />
          <img class='head open' src='assets/img/open/30.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/31.png' />
          <img class='head open' src='assets/img/open/31.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/32.png' />
          <img class='head open' src='assets/img/open/32.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/33.png' />
          <img class='head open' src='assets/img/open/33.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/34.png' />
          <img class='head open' src='assets/img/open/34.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/35.png' />
          <img class='head open' src='assets/img/open/35.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/36.png' />
          <img class='head open' src='assets/img/open/36.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/37.png' />
          <img class='head open' src='assets/img/open/37.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/38.png' />
          <img class='head open' src='assets/img/open/38.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/40.png' />
          <img class='head open' src='assets/img/open/40.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/41.png' />
          <img class='head open' src='assets/img/open/41.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/42.png' />
          <img class='head open' src='assets/img/open/42.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/43.png' />
          <img class='head open' src='assets/img/open/43.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/44.png' />
          <img class='head open' src='assets/img/open/44.png' />
        </li>
      </ul>

      <ul class='group fourth'>
        <li>
          <img class='head closed' src='assets/img/closed/45.png' />
          <img class='head open' src='assets/img/open/45.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/46.png' />
          <img class='head open' src='assets/img/open/46.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/47.png' />
          <img class='head open' src='assets/img/open/47.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/48.png' />
          <img class='head open' src='assets/img/open/48.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/49.png' />
          <img class='head open' src='assets/img/open/49.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/50.png' />
          <img class='head open' src='assets/img/open/50.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/51.png' />
          <img class='head open' src='assets/img/open/51.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/52.png' />
          <img class='head open' src='assets/img/open/52.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/53.png' />
          <img class='head open' src='assets/img/open/53.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/54.png' />
          <img class='head open' src='assets/img/open/54.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/55.png' />
          <img class='head open' src='assets/img/open/55.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/56.png' />
          <img class='head open' src='assets/img/open/56.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/57.png' />
          <img class='head open' src='assets/img/open/57.png' />
        </li>
      </ul>

      <ul class='group fifth'>
        <li>
          <img class='head closed' src='assets/img/closed/58.png' />
          <img class='head open' src='assets/img/open/58.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/59.png' />
          <img class='head open' src='assets/img/open/59.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/60.png' />
          <img class='head open' src='assets/img/open/60.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/61.png' />
          <img class='head open' src='assets/img/open/61.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/62.png' />
          <img class='head open' src='assets/img/open/62.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/63.png' />
          <img class='head open' src='assets/img/open/63.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/64.png' />
          <img class='head open' src='assets/img/open/64.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/65.png' />
          <img class='head open' src='assets/img/open/65.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/66.png' />
          <img class='head open' src='assets/img/open/66.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/67.png' />
          <img class='head open' src='assets/img/open/67.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/68.png' />
          <img class='head open' src='assets/img/open/68.png' />
        </li>
        <li>
          <img class='head closed' src='assets/img/closed/69.png' />
          <img class='head open' src='assets/img/open/69.png' />
        </li>
      </ul>
    </div>

    <div class='btn-container'>
      <button id='start' class='start-btn'>
        <img src='assets/img/btn.png' />
      </button>

      <div class='social-container'>
        <a href="mailto:?subject=Enjoy some holiday cheer from your friends at gryo: NY&body=Check out the gyro carolers live from New York! Happy Holidays from gyro:NY http://gyro-deckthehalls.surge.sh" class="email icon"></a>
        <a href="https://twitter.com/intent/tweet?text=Check+out+the+gyro+carolers+live+from+New+York!+Happy+Holidays+from+gyro:NY&url=http%3A%2F%2Fgyro-deckthehalls.surge.sh%2F" class="twitter icon"></a>
        <a href="https://www.facebook.com/dialog/share?app_id=1177017889018872&amp;display=popup&amp;href=http%3A%2F%2Fgyro-deckthehalls.surge.sh&amp;redirect_uri=http%3A%2F%2Fgyro-deckthehalls.surge.sh" class="facebook icon"></a>
        <img src='assets/img/social.png' />
      </div>
    </div>

    <audio src='assets/audio/dth.mp3'></audio>

    <script>
      (function (W, document) {
        W.addEventListener('load', function (e) {

          // Show faces when page loads
          var faceItems = document.getElementsByTagName('li')
          for (var i=0; i < faceItems.length; i++) {
            faceItems[i].classList.add('show')
          }

          var containers = document.querySelectorAll('.group > li')
          var allRows = document.querySelectorAll('.group')
          var evenRows = document.querySelectorAll('.group.second, .group.fourth')
          var oddRows = document.querySelectorAll('.group.first, .group.third, .group.fifth')

          var finale = function (sing) {
            for (var i=0; i < allRows.length; i++) {
              var row = allRows[i]
              row.classList.remove('fa-la-la')
              void row.offsetWidth

              if (sing) {
                row.classList.add('finale')
              } else {
                row.classList.remove('finale')
              }
            }
          }

          var falala = function (sing, verseName) {
            for (var i=0; i < allRows.length; i++) {
              var row = allRows[i]
              if (sing) {
                void row.offsetWidth
                row.classList.add(verseName)
              } else {
                row.classList.remove(verseName)
                void row.offsetWidth
              }
            }
          }

          var singVerse = function (row, verseName) {
            if (row === 'odd') {
              for (var i=0; i < oddRows.length; i++) {
                var row = oddRows[i]
                void row.offsetWidth
                row.classList.add(verseName)
              }
            } else {
              for (var i=0; i < evenRows.length; i++) {
                var row = evenRows[i]
                void row.offsetWidth
                row.classList.add(verseName)
              }
            }
          }

          var resetRows = function (row, verseName) {
            if (row === 'odd') {
              for (var i=0; i < oddRows.length; i++) {
                var row = oddRows[i]
                row.classList.remove(verseName)
              }

            } else {
              for (var i=0; i < evenRows.length; i++) {
                var row = evenRows[i]
                row.classList.remove(verseName)
              }
            }
          }

          var updateChorus = function () {
            var time = this.target.currentTime
            console.log(time)

            if (time > 84) {
              falala(false, 'fa-la-la')
              finale(false)
            } else if (time > 78) {
              finale(true)
            } else if (time > 71) {
              resetRows('even', 'verse1')
              falala(true, 'fa-la-la')
            } else if (time > 68) {
              falala(false, 'fa-la-la1')
              singVerse('even', 'verse1')
            } else if (time > 64.5) {
              resetRows('odd', 'verse')
              falala(true, 'fa-la-la1')
            } else if (time > 62) {
              falala(false, 'fa-la-la')
              singVerse('odd', 'verse')
            } else if (time > 59.5) {
              resetRows('even', 'verse1')
              falala(true, 'fa-la-la')
            } else if (time > 56.25) {
              falala(false, 'fa-la-la')
              singVerse('even', 'verse1')
            } else if (time > 54) {
              resetRows('odd', 'verse')
              falala(true, 'fa-la-la')
            } else if (time > 51.25) {
              falala(false, 'fa-la-la')
              singVerse('odd', 'verse')
            } else if (time > 48.25) {
              resetRows('even', 'verse1')
              falala(true, 'fa-la-la')
            } else if (time > 45.5) {
              falala(false, 'fa-la-la1')
              singVerse('even', 'verse1')
            } else if (time > 42.5) {
              resetRows('odd', 'verse1')
              falala(true, 'fa-la-la1')
            } else if (time > 39.5) {
              falala(false, 'fa-la-la')
              singVerse('odd', 'verse1')
            } else if (time > 36.5) {
              resetRows('even', 'verse')
              falala(true, 'fa-la-la')
            } else if (time > 34) {
              falala(false, 'fa-la-la')
              singVerse('even', 'verse')
            } else if (time > 30.5) {
              resetRows('odd', 'verse1')
              falala(true, 'fa-la-la')
            } else if (time > 28) {
              falala(false, 'fa-la-la')
              singVerse('odd', 'verse1')
            } else if (time > 25.5) {
              resetRows('even', 'verse1')
              falala(true, 'fa-la-la')
            } else if (time > 22.5) {
              falala(false, 'fa-la-la1')
              singVerse('even', 'verse1')
            } else if (time > 19.5) {
              resetRows('odd', 'verse')
              falala(true, 'fa-la-la1')
            } else if (time > 17) {
              falala(false, 'fa-la-la')
              singVerse('odd', 'verse')
            } else if (time > 14) {
              resetRows('even', 'verse1')
              falala(true, 'fa-la-la')
            } else if (time > 11) {
              falala(false, 'fa-la-la')
              singVerse('even', 'verse1')
            } else if (time > 8) {
              resetRows('odd', 'verse')
              falala(true, 'fa-la-la')
            } else if (time > 5.5) {
              for (var i=0; i < containers.length; i++) {
                containers[i].classList.remove('sway')
              }
              singVerse('odd', 'verse')
            }
          }

          var startBtn = document.getElementById('start')
          startBtn.addEventListener('click', function () {
            if (W.music.paused) {
              W.music.play()
            } else {
              W.music.pause()
              W.music.currentTime = 0
            }

            // Make faces sway when music starts
            for (var i=0; i < containers.length; i++) {
              containers[i].classList.add('sway')
            }

          }, false)

          W.music = document.getElementsByTagName('audio')[0]

          // Do we have enough audio data?
          W.music.addEventListener('canplaythrough', function (e) {
            startBtn.className = 'start-btn ready'
          }, false)
          // In case 'canplayaudio' already fired
          if (W.music.readyState > 3) {
            startBtn.className = 'start-btn ready'
          }

          // Initialize music eventlistener
          W.music.addEventListener('timeupdate', function (e) {
            requestAnimationFrame(updateChorus.bind(e))
          }, false)

        })
      }(window, document))
    </script>
  </body>
</html>
